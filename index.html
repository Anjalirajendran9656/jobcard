// REPLACE your existing resetJobCardState function in abcd.html with this one.
function resetJobCardState() {
    hideAllSections();
    document.getElementById('search-vehicle-number').value = '';
    document.getElementById('create-vehicle-form').reset();
    currentVehicleId = null;
    currentComplaints = [];
    renderComplaints();
    document.getElementById('client-name-wrapper').innerHTML = `<p id="detail-client-name" class="font-semibold"></p>`;
    document.getElementById('client-phone-wrapper').innerHTML = `<p id="detail-client-phone" class="font-semibold"></p>`;
    document.getElementById('odometer-display-wrapper').innerHTML = `<p id="detail-odometer" class="font-semibold"></p>`;
    clearDamageCanvas();
    
    // --- This part is updated to correctly clear the photo state ---
    capturedPhotos = [];      // Clear the photos array
    renderPhotoPreviews();    // Update the UI to show no photos
    voiceNoteBlob = null;
    document.getElementById('audio-playback').innerHTML = '';
    document.getElementById('recording-status').textContent = '';
}
